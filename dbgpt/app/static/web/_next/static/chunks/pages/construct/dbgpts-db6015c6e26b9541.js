(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3480],{17664:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/dbgpts",function(){return a(42079)}])},48218:function(e,t,a){"use strict";var s=a(85893),l=a(82353),r=a(16165),n=a(67294);t.Z=e=>{let{width:t,height:a,scene:i}=e,c=(0,n.useCallback)(()=>{switch(i){case"chat_knowledge":return l.je;case"chat_with_db_execute":return l.zM;case"chat_excel":return l.DL;case"chat_with_db_qa":case"chat_dba":return l.RD;case"chat_dashboard":return l.In;case"chat_agent":return l.si;case"chat_normal":return l.O7;default:return}},[i]);return(0,s.jsx)(r.Z,{className:"w-".concat(t||7," h-").concat(a||7),component:c()})}},91467:function(e,t,a){"use strict";a.d(t,{TH:function(){return x},ZS:function(){return g}});var s=a(85893),l=a(89705),r=a(83062),n=a(96074),i=a(7075),c=a(85418),o=a(93967),d=a.n(o),p=a(36609),u=a(25675),h=a.n(u);a(67294);var m=a(48218);a(11873);let x=e=>{let{onClick:t,Icon:a="/pictures/card_chat.png",text:l=(0,p.t)("start_chat")}=e;return"string"==typeof a&&(a=(0,s.jsx)(h(),{src:a,alt:a,width:17,height:15})),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-default",onClick:e=>{e.stopPropagation(),t&&t()},children:[a,(0,s.jsx)("span",{children:l})]})},g=e=>{let{menu:t}=e;return(0,s.jsx)(c.Z,{menu:t,getPopupContainer:e=>e.parentNode,placement:"bottomRight",autoAdjustOverflow:!1,children:(0,s.jsx)(l.Z,{className:"p-2 hover:bg-white hover:dark:bg-black rounded-md"})})};t.ZP=e=>{let{RightTop:t,Tags:a,LeftBottom:l,RightBottom:c,onClick:o,rightTopHover:p=!0,logo:u,name:x,description:g,className:b,scene:f,code:w}=e;return"string"==typeof g&&(g=(0,s.jsx)("p",{className:"line-clamp-2 relative bottom-4 text-ellipsis min-h-[42px] text-sm text-[#525964] dark:text-[rgba(255,255,255,0.65)]",children:g})),(0,s.jsx)("div",{className:d()("hover-underline-gradient flex justify-center mt-6 relative group w-1/3 px-2 mb-6",b),children:(0,s.jsxs)("div",{onClick:o,className:"backdrop-filter backdrop-blur-lg cursor-pointer  bg-white bg-opacity-70 border-2 border-white rounded-lg shadow p-4 relative w-full h-full dark:border-[#6f7f95] dark:bg-[#6f7f95] dark:bg-opacity-60",children:[(0,s.jsxs)("div",{className:"flex items-end relative bottom-8 justify-between w-full",children:[(0,s.jsxs)("div",{className:"flex items-end gap-4 w-11/12  flex-1",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm w-14 h-14 flex items-center p-3",children:f?(0,s.jsx)(m.Z,{scene:f,width:14,height:14}):u&&(0,s.jsx)(h(),{src:u,width:44,height:44,alt:x,className:"w-8 min-w-8 rounded-full max-w-none"})}),(0,s.jsx)("div",{className:"flex-1",children:x.length>6?(0,s.jsx)(r.Z,{title:x,children:(0,s.jsx)("span",{className:"line-clamp-1 text-ellipsis font-semibold text-base",style:{maxWidth:"60%"},children:x})}):(0,s.jsx)("span",{className:"line-clamp-1 text-ellipsis font-semibold text-base",style:{maxWidth:"60%"},children:x})})]}),(0,s.jsx)("span",{className:d()("shrink-0",{hidden:p,"group-hover:block":p}),onClick:e=>{e.stopPropagation()},children:t})]}),g,(0,s.jsx)("div",{className:"relative bottom-2",children:a}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("div",{children:l}),(0,s.jsx)("div",{children:c})]}),w&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{className:"my-3"}),(0,s.jsx)(i.Z.Text,{copyable:!0,className:"absolute bottom-1 right-4 text-xs text-gray-500",children:w})]})]})})}},1771:function(e,t,a){"use strict";var s=a(85893);a(67294);var l=a(28459),r=a(92398),n=a(36609),i=a(41156),c=a(9641),o=a(16165),d=a(9020),p=a(92962),u=a(38545),h=a(50067),m=a(82353),x=a(11163);a(53878),t.Z=function(e){let{children:t}=e,a=[{key:"app",name:(0,n.t)("App"),path:"/app",icon:(0,s.jsx)(i.Z,{})},{key:"flow",name:(0,n.t)("awel_flow"),icon:(0,s.jsx)(c.Z,{}),path:"/flow"},{key:"models",name:(0,n.t)("model_manage"),path:"/models",icon:(0,s.jsx)(o.Z,{component:m.IN})},{key:"database",name:(0,n.t)("Database"),icon:(0,s.jsx)(d.Z,{}),path:"/database"},{key:"knowledge",name:(0,n.t)("Knowledge_Space"),icon:(0,s.jsx)(p.Z,{}),path:"/knowledge"},{key:"prompt",name:(0,n.t)("Prompt"),icon:(0,s.jsx)(u.Z,{}),path:"/prompt"},{key:"dbgpts",name:(0,n.t)("dbgpts_community"),path:"/dbgpts",icon:(0,s.jsx)(h.Z,{})}],g=(0,x.useRouter)(),b=g.pathname.split("/")[2];return window.matchMedia("(prefers-color-scheme: dark)").matches,(0,s.jsx)("div",{className:"flex flex-col h-full w-full  dark:bg-gradient-dark bg-gradient-light bg-cover bg-center",children:(0,s.jsx)(l.ZP,{theme:{components:{Button:{},Segmented:{itemSelectedBg:"#2867f5",itemSelectedColor:"white"}}},children:(0,s.jsx)(r.Z,{activeKey:b,items:a.map(e=>({key:e.key,label:e.name,children:t,icon:e.icon})),onTabClick:e=>{g.push("/construct/".concat(e))}})})})}},42079:function(e,t,a){"use strict";a.r(t);var s=a(85893),l=a(1771),r=a(98165),n=a(68795),i=a(52645),c=a(23430),o=a(65654),d=a(99859),p=a(45360),u=a(75081),h=a(92783),m=a(14726),x=a(69677),g=a(66309),b=a(67294),f=a(76212),w=a(67421),j=a(91467),v=a(30381),k=a.n(v),y=a(93967),_=a.n(y);t.default=function(){let{t:e}=(0,w.$G)(),[t,a]=(0,b.useState)(""),[v,y]=(0,b.useState)("market"),[N,Z]=(0,b.useState)(!1),[C,S]=(0,b.useState)(!1),[P,T]=(0,b.useState)(!1),[E,z]=(0,b.useState)(),[R]=d.default.useForm(),[A,I]=(0,b.useState)("all"),V=(0,b.useMemo)(()=>({pageNo:1,pageSize:20}),[]),{data:B=[],refresh:H}=(0,o.Z)(async()=>{var e,a;if(S(!0),"my"===v){let[a,s]=await (0,f.Vx)((0,f.YP)({name:t||void 0,type:"all"===A?void 0:A,page_index:V.pageNo,page_size:V.pageSize}));return S(!1),T(!!a),null!==(e=null==s?void 0:s.items)&&void 0!==e?e:[]}let s={page_index:V.pageNo,page_size:V.pageSize,name:t||void 0,type:"all"===A?void 0:A},[l,r]=await (0,f.Vx)((0,f.uf)(s));return S(!1),T(!!l),null!==(a=null==r?void 0:r.items)&&void 0!==a?a:[]},{manual:!0}),O=async()=>{try{Z(!0);let[e]=await (0,f.Vx)((0,f.zE)());if(e)return;p.ZP.success("success"),H()}finally{Z(!1)}};(0,b.useEffect)(()=>{H()},[v,A]);let D=(0,b.useCallback)(async(e,t,a)=>{if(E)return;z(t),S(!0);let s=null;if(a){let[t]=await (0,f.Vx)((0,f.Al)(e));s=t}else{let[t]=await (0,f.Vx)((0,f.l_)({name:e.name,type:e.type}));s=t}S(!1),s||(p.ZP.success("success"),H()),z(void 0)},[E,H]),M=[{value:"market",label:e("community_dbgpts")},{value:"my",label:e("my_dbgpts")}],F=[{value:"all",label:e("All")},{value:"workflow",label:e("workflow")},{value:"agents",label:"Agent"},{value:"resources",label:e("resources")},{value:"apps",label:e("app")},{value:"operators",label:e("operators")}],K=e=>{switch(e){case"workflow":return"/pictures/flow.png";case"resources":return"/pictures/database.png";case"apps":return"/pictures/app.png";case"operators":return"/pictures/knowledge.png";default:return"/pictures/agent.png"}};return(0,s.jsx)(l.Z,{children:(0,s.jsx)(u.Z,{spinning:C,children:(0,s.jsxs)("div",{className:"h-screen w-full p-4 md:p-6 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(h.Z,{className:"backdrop-filter backdrop-blur-lg bg-white bg-opacity-30 border-2 border-white rounded-lg shadow p-1 dark:border-[#6f7f95] dark:bg-[#6f7f95] dark:bg-opacity-60",options:M,onChange:e=>{y(e)},value:v})}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(m.ZP,{className:_()("border-none text-white bg-button-gradient h-full",{"opacity-40":!1}),loading:N,icon:(0,s.jsx)(r.Z,{}),onClick:O,children:e("Refresh_dbgpts")})})]}),(0,s.jsxs)("div",{className:"w-full flex flex-wrap pb-12 mx-[-8px]",children:[(0,s.jsx)(h.Z,{className:"backdrop-filter backdrop-blur-lg bg-white bg-opacity-30 border-2 border-white rounded-lg shadow p-1 dark:border-[#6f7f95] dark:bg-[#6f7f95] dark:bg-opacity-60",options:F,onChange:e=>{I(e)},value:A}),(0,s.jsx)(x.default,{variant:"filled",prefix:(0,s.jsx)(n.Z,{}),placeholder:e("please_enter_the_keywords"),value:t,onChange:e=>a(e.target.value),onPressEnter:H,allowClear:!0,className:"w-[230px] h-[40px] border-1 border-white ml-4 backdrop-filter backdrop-blur-lg bg-white bg-opacity-30 dark:border-[#6f7f95] dark:bg-[#6f7f95] dark:bg-opacity-60"})]}),(0,s.jsx)("div",{className:"flex flex-wrap pb-12",children:B.map((t,a)=>(0,s.jsx)(j.ZP,{logo:K(t.type),onClick:()=>{t.storage_url&&window.open(t.storage_url,"_blank")},description:t.description,name:t.name,Tags:(0,s.jsxs)("div",{children:[t.author&&(0,s.jsx)(g.Z,{children:t.author}),t.version&&(0,s.jsxs)(g.Z,{children:["v",t.version]}),t.storage_channel&&(0,s.jsx)(g.Z,{children:t.storage_channel})]}),LeftBottom:(0,s.jsxs)("div",{className:"flex gap-2",children:[t.author&&(0,s.jsx)("span",{children:t.author}),t.author&&(0,s.jsx)("span",{children:"â€¢"}),(null==t?void 0:t.gmt_created)&&(0,s.jsx)("span",{children:k()(null==t?void 0:t.gmt_created).fromNow()+" "+e("update")})]}),RightTop:t.type&&(0,s.jsx)(g.Z,{children:t.type}),rightTopHover:!1,RightBottom:t.installed||"my"==v?(0,s.jsx)(j.TH,{Icon:(0,s.jsx)(i.Z,{}),text:"Uninstall",onClick:()=>{D(t,a,!1)}}):(0,s.jsx)(j.TH,{Icon:(0,s.jsx)(c.Z,{}),text:"Install",onClick:()=>{D(t,a,!0)}})},t.id))})]})})})}},11873:function(){},53878:function(){}},function(e){e.O(0,[2648,3791,2913,8791,7075,5081,5418,9859,2398,2783,1004,9774,2888,179],function(){return e(e.s=17664)}),_N_E=e.O()}]);