(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7247],{63606:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(87462),a=n(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},i=n(13401),s=a.forwardRef(function(t,e){return a.createElement(i.Z,(0,r.Z)({},t,{ref:e,icon:o}))})},68795:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(87462),a=n(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},i=n(13401),s=a.forwardRef(function(t,e){return a.createElement(i.Z,(0,r.Z)({},t,{ref:e,icon:o}))})},9708:function(t,e,n){"use strict";n.d(e,{F:function(){return i},Z:function(){return o}});var r=n(93967),a=n.n(r);function o(t,e,n){return a()({[`${t}-status-success`]:"success"===e,[`${t}-status-warning`]:"warning"===e,[`${t}-status-error`]:"error"===e,[`${t}-status-validating`]:"validating"===e,[`${t}-has-feedback`]:n})}let i=(t,e)=>e||t},27833:function(t,e,n){"use strict";var r=n(67294),a=n(65223);let o=["outlined","borderless","filled"];e.Z=function(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=(0,r.useContext)(a.pg);e=void 0!==t?t:!1===n?"borderless":null!=i?i:"outlined";let s=o.includes(e);return[e,s]}},33507:function(t,e){"use strict";e.Z=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}})},33297:function(t,e,n){"use strict";n.d(e,{Fm:function(){return p}});var r=n(39302),a=n(93590);let o=new r.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),i=new r.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),s=new r.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),l=new r.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),u=new r.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new r.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),d=new r.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),f=new r.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),m={"move-up":{inKeyframes:d,outKeyframes:f},"move-down":{inKeyframes:o,outKeyframes:i},"move-left":{inKeyframes:s,outKeyframes:l},"move-right":{inKeyframes:u,outKeyframes:c}},p=(t,e)=>{let{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:o,outKeyframes:i}=m[e];return[(0,a.R)(r,o,i,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]}},73637:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/extra/components/AwelLayout",function(){return n(7380)}])},99743:function(t,e,n){"use strict";var r=n(85893);n(67294);var a=n(36851);e.Z=t=>{let{id:e,sourceX:n,sourceY:o,targetX:i,targetY:s,sourcePosition:l,targetPosition:u,style:c={},data:d,markerEnd:f}=t,[m,p,g]=(0,a.OQ)({sourceX:n,sourceY:o,sourcePosition:l,targetX:i,targetY:s,targetPosition:u}),v=(0,a._K)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.u5,{id:e,style:c,path:m,markerEnd:f}),(0,r.jsx)("foreignObject",{width:40,height:40,x:p-20,y:g-20,className:"bg-transparent w-10 h-10 relative",requiredExtensions:"http://www.w3.org/1999/xhtml",children:(0,r.jsx)("button",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-stone-400 dark:bg-zinc-700 cursor-pointer text-sm",onClick:t=>{t.stopPropagation(),v.setEdges(v.getEdges().filter(t=>t.id!==e))},children:"\xd7"})})]})}},7380:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return h}});var r=n(85893),a=n(67294),o=n(93967),i=n.n(o),s=n(99859),l=n(34041),u=n(36851),c=n(59819),d=n(99743),f=n(67919);n(4583);var m=t=>{let{flowData:e,minZoom:n}=t,a=(0,f.z5)(e);return(0,r.jsx)(u.x$,{nodes:a.nodes,edges:a.edges,edgeTypes:{buttonedge:d.Z},fitView:!0,minZoom:n||.1,children:(0,r.jsx)(c.A,{color:"#aaa",gap:16})})},p=n(65654),g=n(76212),v=n(67421),h=t=>{let{initValue:e,updateData:n,classNames:o}=t,{t:u}=(0,v.$G)(),[c]=s.default.useForm(),d=s.default.useWatch("flow",c),{data:f,loading:h}=(0,p.Z)(async()=>{let[,t]=await (0,g.Vx)((0,g.Wf)({page:1,page_size:1e4}));return c.setFieldsValue({flow:null==e?void 0:e.name}),null!=t?t:{}}),w=(0,a.useMemo)(()=>{var t;return(null==f?void 0:null===(t=f.items)||void 0===t?void 0:t.map(t=>({label:t.label,value:t.name})))||[]},[f]),y=(0,a.useMemo)(()=>{var t,e;return null===(t=null==f?void 0:null===(e=f.items)||void 0===e?void 0:e.find(t=>t.name===d))||void 0===t?void 0:t.flow_data},[null==f?void 0:f.items,d]);return(0,a.useEffect)(()=>{var t;n([h,null==f?void 0:null===(t=f.items)||void 0===t?void 0:t.find(t=>t.name===d)])},[null==f?void 0:f.items,d,h,n]),(0,r.jsx)("div",{className:i()(o,"mb-6"),children:(0,r.jsxs)(s.default,{form:c,style:{width:"100%"},children:[(0,r.jsx)(s.default.Item,{label:u("select_workflow"),name:"flow",children:(0,r.jsx)(l.default,{className:"w-1/4",placeholder:u("please_select_workflow"),options:w,allowClear:!0})}),y&&(0,r.jsx)("div",{className:"w-full h-[600px] mx-auto border-[0.5px] border-dark-gray",children:(0,r.jsx)(m,{flowData:y})})]})})}},67919:function(t,e,n){"use strict";n.d(e,{It:function(){return l},Rv:function(){return s},VZ:function(){return r},Wf:function(){return o},_g:function(){return a},z5:function(){return i}});let r=(t,e)=>{let n=0;return e.forEach(e=>{e.data.name===t.name&&n++}),"".concat(t.id,"_").concat(n)},a=t=>t.replace(/_\d+$/,""),o=t=>{let{nodes:e,edges:n,...r}=t,a=e.map(t=>{let{positionAbsolute:e,...n}=t;return{position_absolute:e,...n}}),o=n.map(t=>{let{sourceHandle:e,targetHandle:n,...r}=t;return{source_handle:e,target_handle:n,...r}});return{nodes:a,edges:o,...r}},i=t=>{let{nodes:e,edges:n,...r}=t,a=e.map(t=>{let{position_absolute:e,...n}=t;return{positionAbsolute:e,...n}}),o=n.map(t=>{let{source_handle:e,target_handle:n,...r}=t;return{sourceHandle:e,targetHandle:n,...r}});return{nodes:a,edges:o,...r}},s=t=>{let{nodes:e,edges:n}=t,r=[!0,e[0],""];t:for(let t=0;t<e.length;t++){let a=e[t].data,{inputs:o=[],parameters:i=[]}=a;for(let i=0;i<o.length;i++)if(!n.some(n=>n.targetHandle==="".concat(e[t].id,"|inputs|").concat(i))){r=[!1,e[t],"The input ".concat(o[i].type_name," of node ").concat(a.label," is required")];break t}for(let o=0;o<i.length;o++){let s=i[o];if(s.optional||"resource"!==s.category||n.some(n=>n.targetHandle==="".concat(e[t].id,"|parameters|").concat(o))){if(!s.optional&&"common"===s.category&&(void 0===s.value||null===s.value)){r=[!1,e[t],"The parameter ".concat(s.type_name," of node ").concat(a.label," is required")];break t}}else{r=[!1,e[t],"The parameter ".concat(s.type_name," of node ").concat(a.label," is required")];break t}}}return r},l=t=>(function t(e){if(Array.isArray(e))return e.map(e=>t(e));if(e&&"object"==typeof e&&!Array.isArray(e)){let n={};for(let r in e)if(e.hasOwnProperty(r)){let a=r.replace(/_([a-z])/g,(t,e)=>e.toUpperCase());n[a]=t(e[r])}return n}return e})(t)}},function(t){t.O(0,[8241,3791,4041,9859,7434,9924,9774,2888,179],function(){return t(t.s=73637)}),_N_E=t.O()}]);